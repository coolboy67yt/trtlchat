<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>TrtlChat</title>
    <link rel="stylesheet" href="styles.css" />
    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script src="https://kit.fontawesome.com/2ff1179492.js" crossorigin="anonymous"></script>
    <link rel="icon" type="image/png" href="https://emojik.vercel.app/s/%F0%9F%90%A2_%F0%9F%A4%96?size=128" sizes="16x16" />
  </head>
  <body>
    <div class="dev">DEVELOPER PREVIEW - THINGS <b>WILL</b> BE BROKEN!</div>
    <header class="navbar">
      <div class="title-container">
        <span style="font-size: 2em; margin-right: 10px;">üê¢</span>
        <div>
          <h1 class="main-title">TrtlChat</h1>
          <p class="subtitle">Developer Preview</p>
        </div>
      </div>
      <nav class="nav-buttons">
        <button onclick="openAbout()">
          <i class="fas fa-info-circle"></i> About
        </button>
        <button onclick="openSettings()">
          <i class="fas fa-cog"></i> Settings
        </button>
      </nav>
    </header>

    <div class="main-container">
      <aside class="sidebar" id="sidebar">
        <button class="toggle-btn" id="toggleBtn">
          <i class="fas fa-chevron-left"></i>
        </button>
        <div class="text">
          
      </aside>
      <div class="chat-area">
        <div id="chat"></div>

        <div id="input-area">
          <!--file upload not implemented yet-->
          <!--<button id="add">+</button>-->
          <textarea id="input" placeholder="Say something..." rows="1" style="resize: none;"></textarea>
          <button id="send"><i class="fas fa-paper-plane"></i></button>
        </div>
      </div>
    </div>

    <script src="main.js" defer></script>
     <div id="settingsModal" class="modal">
    <div class="modal-content">
      <span class="close-btn" onclick="closeSettings()">&times;</span>
      <h2>Settings üîß</h2>
      <hr>
      <form>
        <label for="promptInput"><b>System Prompt</b></label><button type="button" onclick="resetPrompt()">Reset</button>
        <br>
        <textarea id="promptInput" rows="4" cols="50" style="resize: none;">  You are an AI chatbot hosted on TrtlChat. You support full Markdown formatting, including bold, italics, lists, headers, blockquotes, code blocks, and inline code.
          When rendering **mathematical expressions**, you must use **MathJax v3 syntax**:
          - Use \`$...$\` for inline math.
          - Use \`$$...$$\` for block math.
          - Do **not** use square brackets, backticks, or any other syntax for math. Stick to dollar signs only.
          - Escape all backslashes properly in your output (e.g. use \\\\frac, not \\frac, in JavaScript strings).
          - Assume the content will be passed through a Markdown parser (like marked.js) and then processed by MathJax.
          - Math expressions should be clean, readable, and correctly formatted in LaTeX.
        
          Keep your responses helpful, conversational, and clear. Avoid over-explaining unless asked. You are friendly, informative, and good at explaining concepts in simple terms.
        
          You are not allowed to output broken MathJax formatting, or wrap equations in anything other than dollar signs. 
          No square brackets. No weird formatting. Just Markdown + MathJax.</textarea><br><br>

        <label for="devMode">Developer Mode</label>
        <input type="checkbox" id="devMode"><br><br>

        <button class="save-settings" type="submit" onclick="saveSettings()">Save</button>
      </form>
    </div>
  </div>
  </body>
</html>